(this.webpackJsonpsweeter=this.webpackJsonpsweeter||[]).push([[0],{65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n(46),c=n.n(a),i=n(11),o=n(34),s=n(12),u=n(47),b=n(23),j=n(19),l=n(0),p=n.n(l),d=n(2),x=n(13),f=n(26),O=n(28),h=n(14),m=n(48);Object(m.a)({apiKey:"AIzaSyAP7Te7cOiK_pE_qsVW4wv2bzsirPm8KFQ",authDomain:"sweeter-66bf9.firebaseapp.com",projectId:"sweeter-66bf9",storageBucket:"sweeter-66bf9.appspot.com",messagingSenderId:"150791443840",appId:"1:150791443840:web:2189d14babb137edea5d65"});var g,w,v,y,k,S,C,z,N,I,U,A,F,_,B,D,E,L,P,R,q,K,J,T,G,M,Q=Object(b.c)(),V=new b.a,W=Object(j.f)(),Y=Object(O.c)(),H=n(29),X=n(7),Z=h.a.div(g||(g=Object(x.a)(["\n  margin-bottom: 20px;\n  background-color: white;\n  width: 100%;\n  max-width: 320px;\n  padding: 8px 16px;\n  border: 1px solid #d4d4d4;\n  border-radius: 10px;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  color: rgba(0, 0, 0, 0.8);\n  margin-bottom: 32px;\n"]))),$=h.a.h3(w||(w=Object(x.a)(["\n  font-size: 12px;\n"]))),ee=h.a.form(v||(v=Object(x.a)(["\n  cursor: pointer;\n  margin-top: 15px;\n  margin-bottom: 5px;\n"]))),te=h.a.input(y||(y=Object(x.a)(["\n  width: 100%;\n  border-radius: 20px;\n  border: 1px solid #c4c4c4;\n  color: black;\n  padding: 7px 10px !important;\n  box-sizing: border-box;\n  margin-bottom: 12px;\n  cursor: auto;\n"]))),ne=h.a.img(k||(k=Object(x.a)(["\n  right: -10px;\n  top: 16px;\n  position: absolute;\n  border-radius: 50%;\n  background-color: white;\n  width: 50px;\n  height: 50px;\n  margin-top: 10px;\n  box-shadow: 2px 2px 2px #dddddd;\n"]))),re=h.a.div(S||(S=Object(x.a)(["\n  position: absolute;\n  right: 10px;\n  top: 8px;\n"]))),ae=h.a.div(C||(C=Object(x.a)(["\n  display: flex;\n  flex-direction: row;\n"]))),ce=h.a.button(z||(z=Object(x.a)(["\n  outline: none;\n  border: none;\n  font-size: 14px;\n"]))),ie=function(e){var t=e.sweetObject,n=e.isOwner,a=Object(r.useState)(!1),c=Object(i.a)(a,2),o=c[0],s=c[1],u=Object(r.useState)(t.text),b=Object(i.a)(u,2),l=b[0],x=b[1],h=function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this sweet?")){e.next=9;break}return e.next=4,Object(j.c)(Object(j.d)(W,"sweets",t.id));case 4:if(""===t.attachmentUrl){e.next=7;break}return e.next=7,Object(O.a)(Object(O.d)(Y,t.attachmentUrl)).then((function(){alert("\uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4:(")})).catch((function(e){console.log(e)}));case 7:e.next=10;break;case 9:return e.abrupt("return");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.i)(Object(j.d)(W,"sweets",t.id),{text:l});case 2:s((function(e){return!e}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(X.jsx)(Z,{children:o?Object(X.jsx)(X.Fragment,{children:Object(X.jsxs)(ee,{onSubmit:m,children:[Object(X.jsx)(te,{type:"text",value:l,placeholder:"edit sweet",required:!0,onChange:function(e){x(e.target.value)}}),Object(X.jsxs)(ae,{children:[Object(X.jsx)("input",{type:"submit",value:"update",className:"formBtn"}),Object(X.jsx)("input",{type:"button",onClick:function(){return s((function(e){return!e}))},className:"formBtn cancelBtn",value:"cancel"})]})]})}):Object(X.jsxs)("div",{children:[Object(X.jsx)($,{children:t.text}),""!==t.attachmentUrl?Object(X.jsx)(ne,{src:t.attachmentUrl,width:"100px",height:"100px",alt:"userImg"}):null,n&&Object(X.jsxs)(re,{children:[Object(X.jsx)(ce,{onClick:function(){s((function(e){return!e}))},children:Object(X.jsx)(f.a,{icon:H.a})}),Object(X.jsx)(ce,{onClick:h,children:Object(X.jsx)(f.a,{icon:H.c})})]})]})})},oe=n(68),se=h.a.div(N||(N=Object(x.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  position: relative;\n  margin-bottom: 20px;\n"]))),ue=h.a.form(I||(I=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n"]))),be=h.a.input(U||(U=Object(x.a)(["\n  flex-grow: 1;\n  height: 40px;\n  width: 320px;\n  padding-left: 10px;\n  color: white;\n  border: 1px solid #04aaff;\n  border-radius: 20px;\n  font-weight: 500;\n  font-size: 12px;\n"]))),je=h.a.label(A||(A=Object(x.a)(["\n  color: #04aaff;\n  cursor: pointer;\n\n  span {\n    margin-right: 10px;\n    font-size: 12px;\n  }\n"]))),le=h.a.img(F||(F=Object(x.a)(["\n  height: 80px;\n  width: 80px;\n  border-radius: 40px;\n  background-image: ",";\n"])),(function(e){return e.attachment})),pe=function(e){var t=e.userObject,n=Object(r.useState)(""),a=Object(i.a)(n,2),c=a[0],o=a[1],s=Object(r.useState)(""),u=Object(i.a)(s,2),b=u[0],l=u[1],x=function(){var e=Object(d.a)(p.a.mark((function e(n){var r,a,i,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r="",""===b){e.next=10;break}return a=Object(O.d)(Y,"".concat(t.uid,"/").concat(Object(oe.a)())),e.next=6,Object(O.e)(a,b,"data_url");case 6:return i=e.sent,e.next=9,Object(O.b)(i.ref);case 9:r=e.sent;case 10:return s={text:c,createAt:Date.now(),creatorId:t.uid,attachmentUrl:r},e.prev=11,e.next=14,Object(j.a)(Object(j.b)(W,"sweets"),s);case 14:o(""),l(""),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(11),console.log("ERROR:",e.t0);case 21:case"end":return e.stop()}}),e,null,[[11,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(X.jsxs)(ue,{onSubmit:x,children:[Object(X.jsxs)(se,{children:[Object(X.jsx)(be,{value:c,type:"text",placeholder:"what's on your mind?",onChange:function(e){var t=e.target.value;o(t)},maxLength:120}),Object(X.jsx)("input",{type:"submit",value:"\u2192",className:"factoryInput__arrow"})]}),Object(X.jsxs)(je,{htmlFor:"attach-file",children:[Object(X.jsx)("span",{children:"Add Photos"}),Object(X.jsx)(f.a,{icon:H.b})]}),Object(X.jsx)("input",{type:"file",id:"attach-file",accept:"image/*",onChange:function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){var t=e.currentTarget.result;l(t)},n.readAsDataURL(t)},style:{opacity:0}}),b&&Object(X.jsx)("div",{className:"factoryForm__attachment",children:Object(X.jsx)(je,{children:Object(X.jsx)(le,{src:b,width:"50px",height:"50px",alt:"sweetImg",attachment:b})})})]})},de=function(e){var t=e.userObject,n=Object(r.useState)([]),a=Object(i.a)(n,2),c=a[0],o=a[1];return Object(r.useEffect)((function(){var e=Object(j.g)(Object(j.b)(W,"sweets"),(function(e){var t=e.docs.map((function(e){return Object(u.a)({id:e.id},e.data())}));o(t)}));return Object(b.d)(Q,(function(t){null==t&&e()})),function(){o([])}}),[]),Object(X.jsxs)("div",{className:"container",children:[Object(X.jsx)(pe,{userObject:t}),c.map((function(e){return Object(X.jsx)(ie,{sweetObject:e,isOwner:e.creatorId===t.uid},e.id)}))]})},xe=h.a.form(_||(_=Object(x.a)(["\n  width: 100%;\n  max-width: 320px;\n  display: flex;\n  flex-direction: column;\n"]))),fe=h.a.input(B||(B=Object(x.a)(["\n  max-width: 320px;\n  width: 320px;\n  padding: 10px;\n  border-radius: 30px;\n  background-color: rgba(255, 255, 255, 1);\n  margin-bottom: 10px;\n  font-size: 12px;\n  color: black;\n"]))),Oe=h.a.span(D||(D=Object(x.a)(["\n  color: tomato;\n  text-align: center;\n  font-weight: 500;\n  font-size: 12px;\n"]))),he=h.a.span(E||(E=Object(x.a)(["\n  color: #04aaff;\n  cursor: pointer;\n  margin-top: 10px;\n  margin-bottom: 50px;\n  display: block;\n  font-size: 12px;\n  text-align: center;\n"]))),me=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),o=Object(i.a)(c,2),s=o[0],u=o[1],j=Object(r.useState)(!0),l=Object(i.a)(j,2),x=l[0],f=l[1],O=Object(r.useState)(""),h=Object(i.a)(O,2),m=h[0],g=h[1],w=function(e){var t=e.target,n=t.name,r=t.value;"email"===n?a(r):"password"===n&&u(r)},v=function(){var e=Object(d.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,console.log("onSubmit()...."),!x){e.next=9;break}return e.next=6,Object(b.b)(Q,n,s);case 6:r=e.sent,e.next=12;break;case 9:return e.next=11,Object(b.e)(Q,n,s);case 11:r=e.sent;case 12:console.log(r),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),g(e.t0.code);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(X.jsxs)(xe,{onSubmit:v,children:[Object(X.jsx)(fe,{name:"email",type:"email",placeholder:"E-Mail",required:!0,value:n,onChange:w,autoComplete:"off"}),Object(X.jsx)(fe,{name:"password",type:"password",placeholder:"Password",required:!0,value:s,onChange:w,autoComplete:"off"}),Object(X.jsx)(fe,{className:"authSubmit",type:"submit",value:x?"Create Account":"Login"}),Object(X.jsx)(he,{onClick:function(){return f(!x)},children:x?"\ud68c\uc6d0\uac00\uc785\ud558\uae30":"\ub85c\uadf8\uc778\ud558\uae30"}),m&&Object(X.jsx)(Oe,{children:m})]})},ge=n(32),we=h.a.button(L||(L=Object(x.a)(["\n  cursor: pointer;\n  border-radius: 20px;\n  border: none;\n  padding: 10px 0px;\n  font-size: 12px;\n  text-align: center;\n  width: 150px;\n  background: white;\n  cursor: pointer;\n  margin-top: 12px;\n"]))),ve=function(){var e=function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.f)(Q,V);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(X.jsxs)(we,{onClick:e,children:["Continue with Google ",Object(X.jsx)(f.a,{icon:ge.a})]})},ye=h.a.div(P||(P=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  justify-content: center;\n  align-items: center;\n"]))),ke=function(){return Object(X.jsxs)(ye,{children:[Object(X.jsx)(f.a,{icon:ge.b,color:"#04AAFF",size:"3x",style:{marginBottom:30}}),Object(X.jsx)(me,{}),Object(X.jsx)(ve,{})]})},Se=h.a.div(R||(R=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 32px;\n"]))),Ce=h.a.form(q||(q=Object(x.a)(["\n  border-bottom: 1px solid rgba(255, 255, 255, 0.9);\n  padding-bottom: 30px;\n  margin-bottom: 12px;\n  display: flex;\n  width: 320px;\n  flex-direction: column;\n"]))),ze=h.a.button(K||(K=Object(x.a)(["\n  outline: none;\n  border: none;\n  background-color: tomato;\n  font-size: 14px;\n"]))),Ne=function(e){var t=e.userObject,n=e.refreshUser,a=Object(r.useState)(t.displayName),c=Object(i.a)(a,2),o=c[0],u=c[1],l=Object(s.f)(),x=function(){var e=Object(d.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.h)(Object(j.b)(W,"sweets"),Object(j.j)("creatorId","==",t.uid));case 2:return n=e.sent,e.next=5,Object(j.e)(n);case 5:e.sent.forEach((function(e){console.log(e.id," => ",e.data())}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){x()}),[]);var f=function(){var e=Object(d.a)(p.a.mark((function e(r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),o===t.displayName){e.next=8;break}return e.next=4,Object(b.g)(t,{displayName:o});case 4:n(),alert("\uc5c5\ub370\uc774\ud2b8\ub418\uc5c8\uc2b5\ub2c8\ub2e4:)"),e.next=9;break;case 8:return e.abrupt("return");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(X.jsxs)(Se,{children:[Object(X.jsxs)(Ce,{onSubmit:f,children:[Object(X.jsx)("input",{className:"formInput profile_input",type:"text",placeholder:"Display name",value:o,onChange:function(e){var t=e.target.value;u(t)}}),Object(X.jsx)("input",{type:"submit",value:"Update Profile",className:"formBtn"})]}),Object(X.jsx)(ze,{onClick:function(){Q.signOut(),l("/")},className:"formBtn",children:"Logout"})]})},Ie=h.a.ul(J||(J=Object(x.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 50px;\n  list-style: none;\n"]))),Ue=h.a.li(T||(T=Object(x.a)(["\n  color: ",";\n"])),(function(e){return e.current?"#04aaff":"#ffffff"})),Ae=Object(h.a)(o.b)(G||(G=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  font-size: 10px;\n  text-decoration: none;\n\n  &:first-child {\n    margin-right: 32px;\n  }\n"]))),Fe=function(){var e=Object(s.e)();return Object(X.jsx)("nav",{children:Object(X.jsxs)(Ie,{children:[Object(X.jsx)(Ue,{current:"/"===e.pathname,children:Object(X.jsx)(Ae,{to:"/",children:Object(X.jsx)(f.a,{icon:ge.b,size:"2x"})})}),Object(X.jsx)(Ue,{current:"/profile"===e.pathname,children:Object(X.jsx)(Ae,{to:"/profile",children:Object(X.jsx)(f.a,{icon:H.d,size:"2x"})})})]})})},_e=function(e){var t=e.refreshUser,n=e.isLoggedIn,r=e.userObject;return Object(X.jsxs)(o.a,{children:[n&&Object(X.jsx)(Fe,{userObject:r}),Object(X.jsx)("div",{className:"router_container",children:Object(X.jsx)(s.c,{children:n?Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(s.a,{exact:!0,path:"/",element:Object(X.jsx)(de,{userObject:r,refreshUser:t})}),Object(X.jsx)(s.a,{exact:!0,path:"/profile",element:Object(X.jsx)(Ne,{userObject:r,refreshUser:t})})]}):Object(X.jsx)(s.a,{exact:!0,path:"/",element:Object(X.jsx)(ke,{})})})})]})},Be=h.a.footer(M||(M=Object(x.a)(["\n  position: absolute;\n  bottom: 0;\n  text-align: center;\n  width: 100%;\n"]))),De=function(){return Object(X.jsxs)(Be,{children:["\xa9 ",(new Date).getFullYear()," Sweeter with Nomad Coders"]})};var Ee=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),o=Object(i.a)(c,2),s=o[0],u=o[1],j=Object(r.useState)({}),l=Object(i.a)(j,2),p=l[0],d=l[1];return Object(r.useEffect)((function(){Q.onAuthStateChanged((function(e){if(e){if(null===e.displayName){var t=e.email.substring(0,e.email.indexOf("@"));Object(b.g)(e,{displayName:t})}d(e),u(!0)}else u(!1),d(null);a(!0)}))}),[]),Object(X.jsxs)(X.Fragment,{children:[n?Object(X.jsx)(_e,{refreshUser:function(){var e=Q.currentUser;d(e)},userObject:p,isLoggedIn:s}):"initializing...",Object(X.jsx)(De,{})]})};n(65);c.a.render(Object(X.jsx)(Ee,{}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.1e8b6eb7.chunk.js.map